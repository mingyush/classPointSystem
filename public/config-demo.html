<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç³»ç»Ÿé…ç½®æ¼”ç¤º</title>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/menu.css">
    <style>
        .demo-container {
            padding: 100px 40px 40px 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .demo-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .demo-section h2 {
            margin: 0 0 20px 0;
            color: #2c3e50;
        }
        
        .config-display {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }
        
        .config-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .config-item:last-child {
            border-bottom: none;
        }
        
        .config-label {
            font-weight: 600;
            color: #495057;
        }
        
        .config-value {
            color: #667eea;
            font-family: monospace;
            background: white;
            padding: 4px 8px;
            border-radius: 4px;
            border: 1px solid #e9ecef;
        }
        
        .demo-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .demo-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .demo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .demo-btn.secondary {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }
        
        .preview-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .preview-title {
            font-size: 2em;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .preview-footer {
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-section">
            <h2>ğŸ¯ ç³»ç»Ÿé…ç½®æ¼”ç¤º</h2>
            <p>è¿™é‡Œå±•ç¤ºäº†æ–°å¢çš„ç­çº§åç§°å’Œç‰ˆæƒæ ‡è¯†è®¾ç½®åŠŸèƒ½ã€‚</p>
            
            <div class="config-display">
                <h3>å½“å‰ç³»ç»Ÿé…ç½®</h3>
                <div class="config-item">
                    <span class="config-label">ç­çº§åç§°:</span>
                    <span class="config-value" id="currentClassName">èŠ±å„¿èµ·èˆ</span>
                </div>
                <div class="config-item">
                    <span class="config-label">ä½œè€…:</span>
                    <span class="config-value" id="currentAuthor">èŒ—é›¨</span>
                </div>
                <div class="config-item">
                    <span class="config-label">ç‰ˆæƒä¿¡æ¯:</span>
                    <span class="config-value" id="currentCopyright">Â© 2025 èŠ±å„¿èµ·èˆç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ | ä½œè€…ï¼šèŒ—é›¨</span>
                </div>
            </div>
            
            <div class="demo-buttons">
                <button class="demo-btn" onclick="loadCurrentConfig()">åŠ è½½å½“å‰é…ç½®</button>
                <button class="demo-btn secondary" onclick="testConfigUpdate()">æµ‹è¯•é…ç½®æ›´æ–°</button>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>ğŸ“ é…ç½®æµ‹è¯•</h2>
            <p>æµ‹è¯•ä¸åŒçš„ç­çº§åç§°å’Œç‰ˆæƒä¿¡æ¯è®¾ç½®ã€‚</p>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div>
                    <label for="testClassName" style="display: block; margin-bottom: 5px; font-weight: 600;">ç­çº§åç§°:</label>
                    <input type="text" id="testClassName" value="èŠ±å„¿èµ·èˆ" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div>
                    <label for="testAuthor" style="display: block; margin-bottom: 5px; font-weight: 600;">ä½œè€…:</label>
                    <input type="text" id="testAuthor" value="èŒ—é›¨" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
            </div>
            
            <div style="margin: 20px 0;">
                <label for="testCopyright" style="display: block; margin-bottom: 5px; font-weight: 600;">ç‰ˆæƒä¿¡æ¯:</label>
                <input type="text" id="testCopyright" value="Â© 2025 èŠ±å„¿èµ·èˆç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ | ä½œè€…ï¼šèŒ—é›¨" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            
            <div class="demo-buttons">
                <button class="demo-btn" onclick="previewConfig()">é¢„è§ˆæ•ˆæœ</button>
                <button class="demo-btn secondary" onclick="saveTestConfig()">ä¿å­˜æµ‹è¯•é…ç½®</button>
            </div>
        </div>
        
        <div class="preview-section" id="previewSection">
            <div class="preview-title" id="previewTitle">èŠ±å„¿èµ·èˆç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ</div>
            <p style="text-align: center; opacity: 0.9;">ç°ä»£åŒ–çš„ç­çº§ç§¯åˆ†ç®¡ç†è§£å†³æ–¹æ¡ˆ</p>
            <div class="preview-footer" id="previewFooter">Â© 2025 èŠ±å„¿èµ·èˆç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ | ä½œè€…ï¼šèŒ—é›¨</div>
        </div>
        
        <div class="demo-section">
            <h2>âœ¨ åŠŸèƒ½ç‰¹ç‚¹</h2>
            <ul style="line-height: 2; color: #6c757d;">
                <li>ğŸ« <strong>ä¸ªæ€§åŒ–ç­çº§åç§°:</strong> æ”¯æŒè‡ªå®šä¹‰ç­çº§åç§°ï¼Œæ˜¾ç¤ºåœ¨ç³»ç»Ÿæ ‡é¢˜å’Œå„ä¸ªé¡µé¢ä¸­</li>
                <li>ğŸ‘¤ <strong>ä½œè€…æ ‡è¯†:</strong> å¯ä»¥è®¾ç½®ç³»ç»Ÿä½œè€…ä¿¡æ¯ï¼Œä½“ç°å¼€å‘è€…èº«ä»½</li>
                <li>ğŸ“„ <strong>ç‰ˆæƒä¿¡æ¯:</strong> å®Œæ•´çš„ç‰ˆæƒå£°æ˜ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢åº•éƒ¨</li>
                <li>ğŸ”„ <strong>å®æ—¶æ›´æ–°:</strong> é…ç½®æ›´æ”¹åç«‹å³åœ¨æ‰€æœ‰é¡µé¢ç”Ÿæ•ˆ</li>
                <li>ğŸ’¾ <strong>æŒä¹…åŒ–å­˜å‚¨:</strong> é…ç½®ä¿¡æ¯ä¿å­˜åœ¨ç³»ç»Ÿé…ç½®æ–‡ä»¶ä¸­</li>
                <li>ğŸ¨ <strong>ç»Ÿä¸€å±•ç¤º:</strong> åœ¨èœå•ã€æ ‡é¢˜æ ã€é¡µè„šç­‰ä½ç½®ç»Ÿä¸€æ˜¾ç¤º</li>
            </ul>
        </div>
        
        <div class="demo-section">
            <h2>ğŸ› ï¸ ä½¿ç”¨è¯´æ˜</h2>
            <ol style="line-height: 2; color: #6c757d;">
                <li>è®¿é—®æ•™å¸ˆç®¡ç†é¡µé¢ â†’ ç³»ç»Ÿè®¾ç½®æ ‡ç­¾é¡µ</li>
                <li>åœ¨"ç³»ç»Ÿå‚æ•°é…ç½®"éƒ¨åˆ†æ‰¾åˆ°æ–°å¢çš„é…ç½®é¡¹</li>
                <li>ä¿®æ”¹ç­çº§åç§°ã€ä½œè€…å’Œç‰ˆæƒä¿¡æ¯</li>
                <li>ç‚¹å‡»"ä¿å­˜é…ç½®"æŒ‰é’®</li>
                <li>é…ç½®ä¼šç«‹å³åœ¨æ‰€æœ‰é¡µé¢ç”Ÿæ•ˆ</li>
            </ol>
        </div>
    </div>

    <script src="/js/common.js"></script>
    <script src="/js/menu.js"></script>
    <script>
        // åŠ è½½å½“å‰é…ç½®
        async function loadCurrentConfig() {
            try {
                // å°è¯•ä»æœ¬åœ°å­˜å‚¨è·å–
                const className = storage.get('systemClassName') || 'èŠ±å„¿èµ·èˆ';
                const author = storage.get('systemAuthor') || 'èŒ—é›¨';
                const copyright = storage.get('systemCopyright') || 'Â© 2025 èŠ±å„¿èµ·èˆç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ | ä½œè€…ï¼šèŒ—é›¨';
                
                // æ›´æ–°æ˜¾ç¤º
                document.getElementById('currentClassName').textContent = className;
                document.getElementById('currentAuthor').textContent = author;
                document.getElementById('currentCopyright').textContent = copyright;
                
                // æ›´æ–°è¾“å…¥æ¡†
                document.getElementById('testClassName').value = className;
                document.getElementById('testAuthor').value = author;
                document.getElementById('testCopyright').value = copyright;
                
                // æ›´æ–°é¢„è§ˆ
                previewConfig();
                
                showMessage('é…ç½®åŠ è½½æˆåŠŸ', 'success');
            } catch (error) {
                console.error('åŠ è½½é…ç½®å¤±è´¥:', error);
                showMessage('åŠ è½½é…ç½®å¤±è´¥', 'error');
            }
        }
        
        // é¢„è§ˆé…ç½®æ•ˆæœ
        function previewConfig() {
            const className = document.getElementById('testClassName').value || 'èŠ±å„¿èµ·èˆ';
            const author = document.getElementById('testAuthor').value || 'èŒ—é›¨';
            const copyright = document.getElementById('testCopyright').value || 'Â© 2025 èŠ±å„¿èµ·èˆç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ | ä½œè€…ï¼šèŒ—é›¨';
            
            // æ›´æ–°é¢„è§ˆåŒºåŸŸ
            document.getElementById('previewTitle').textContent = `${className}ç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ`;
            document.getElementById('previewFooter').textContent = copyright;
            
            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.title = `${className}ç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ - é…ç½®æ¼”ç¤º`;
        }
        
        // ä¿å­˜æµ‹è¯•é…ç½®
        function saveTestConfig() {
            const className = document.getElementById('testClassName').value || 'èŠ±å„¿èµ·èˆ';
            const author = document.getElementById('testAuthor').value || 'èŒ—é›¨';
            const copyright = document.getElementById('testCopyright').value || 'Â© 2025 èŠ±å„¿èµ·èˆç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ | ä½œè€…ï¼šèŒ—é›¨';
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            storage.set('systemClassName', className);
            storage.set('systemAuthor', author);
            storage.set('systemCopyright', copyright);
            
            // æ›´æ–°å½“å‰é…ç½®æ˜¾ç¤º
            document.getElementById('currentClassName').textContent = className;
            document.getElementById('currentAuthor').textContent = author;
            document.getElementById('currentCopyright').textContent = copyright;
            
            // æ›´æ–°é¢„è§ˆ
            previewConfig();
            
            showMessage('æµ‹è¯•é…ç½®å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨', 'success');
        }
        
        // æµ‹è¯•é…ç½®æ›´æ–°
        function testConfigUpdate() {
            const testConfigs = [
                {
                    className: 'æ˜Ÿå…‰é—ªè€€',
                    author: 'å°æ˜',
                    copyright: 'Â© 2025 æ˜Ÿå…‰é—ªè€€ç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ | ä½œè€…ï¼šå°æ˜'
                },
                {
                    className: 'æ¢¦æƒ³èµ·èˆª',
                    author: 'å°çº¢',
                    copyright: 'Â© 2025 æ¢¦æƒ³èµ·èˆªç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ | ä½œè€…ï¼šå°çº¢'
                },
                {
                    className: 'èŠ±å„¿èµ·èˆ',
                    author: 'èŒ—é›¨',
                    copyright: 'Â© 2025 èŠ±å„¿èµ·èˆç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ | ä½œè€…ï¼šèŒ—é›¨'
                }
            ];
            
            const randomConfig = testConfigs[Math.floor(Math.random() * testConfigs.length)];
            
            // æ›´æ–°è¾“å…¥æ¡†
            document.getElementById('testClassName').value = randomConfig.className;
            document.getElementById('testAuthor').value = randomConfig.author;
            document.getElementById('testCopyright').value = randomConfig.copyright;
            
            // é¢„è§ˆæ•ˆæœ
            previewConfig();
            
            showMessage(`å·²åˆ‡æ¢åˆ°æµ‹è¯•é…ç½®ï¼š${randomConfig.className}`, 'info');
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            loadCurrentConfig();
        });
    </script>
</body>
</html>