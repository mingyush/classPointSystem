<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èœå•ç³»ç»Ÿæ¼”ç¤º - ç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/menu.css">
    <style>
        .demo-container {
            padding: 100px 40px 40px 40px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .demo-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .demo-section h2 {
            margin: 0 0 20px 0;
            color: #2c3e50;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-item {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .feature-item h4 {
            margin: 0 0 10px 0;
            color: #667eea;
        }
        
        .feature-item p {
            margin: 0;
            color: #6c757d;
            font-size: 0.9em;
        }
        
        .demo-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .demo-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .demo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .demo-btn.secondary {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }
        
        .demo-btn.danger {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }
        
        .status-indicator {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .status-indicator.online {
            background: #d4edda;
            color: #155724;
        }
        
        .status-indicator.offline {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-section">
            <h2>ğŸ¯ ä¸“ä¸šèœå•ç³»ç»Ÿæ¼”ç¤º</h2>
            <p>ç‚¹å‡»å·¦ä¸Šè§’çš„èœå•æŒ‰é’®ä½“éªŒç°ä»£åŒ–çš„å¯¼èˆªç³»ç»Ÿï¼Œæˆ–ä½¿ç”¨å¿«æ·é”® <code>Ctrl+M</code> å¿«é€Ÿæ‰“å¼€èœå•ã€‚</p>
            
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>ğŸ¨ ç°ä»£åŒ–è®¾è®¡</h4>
                    <p>é‡‡ç”¨æ¸å˜è‰²å½©ã€åœ†è§’è®¾è®¡å’Œæµç•…åŠ¨ç”»ï¼Œæä¾›ä¸“ä¸šçš„è§†è§‰ä½“éªŒ</p>
                </div>
                <div class="feature-item">
                    <h4>âš¡ å¿«é€Ÿå¯¼èˆª</h4>
                    <p>ä¸€é”®è®¿é—®æ‰€æœ‰åŠŸèƒ½æ¨¡å—ï¼Œæ”¯æŒé”®ç›˜å¿«æ·é”®æ“ä½œ</p>
                </div>
                <div class="feature-item">
                    <h4>ğŸ‘¤ æ™ºèƒ½ç”¨æˆ·ä¿¡æ¯</h4>
                    <p>è‡ªåŠ¨è¯†åˆ«ç™»å½•çŠ¶æ€ï¼Œæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯å’Œå¿«é€Ÿé€€å‡ºåŠŸèƒ½</p>
                </div>
                <div class="feature-item">
                    <h4>ğŸ“± å“åº”å¼è®¾è®¡</h4>
                    <p>å®Œç¾é€‚é…å„ç§å±å¹•å°ºå¯¸ï¼Œç§»åŠ¨ç«¯å‹å¥½</p>
                </div>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>ğŸ”§ åŠŸèƒ½æµ‹è¯•</h2>
            <p>æµ‹è¯•èœå•ç³»ç»Ÿçš„å„é¡¹åŠŸèƒ½å’Œç”¨æˆ·çŠ¶æ€ç®¡ç†ã€‚</p>
            
            <div class="demo-buttons">
                <button class="demo-btn" onclick="testTeacherLogin()">æ¨¡æ‹Ÿæ•™å¸ˆç™»å½•</button>
                <button class="demo-btn" onclick="testStudentLogin()">æ¨¡æ‹Ÿå­¦ç”Ÿç™»å½•</button>
                <button class="demo-btn secondary" onclick="updateMenuInfo()">æ›´æ–°èœå•ä¿¡æ¯</button>
                <button class="demo-btn danger" onclick="clearAllData()">æ¸…é™¤æ‰€æœ‰æ•°æ®</button>
            </div>
            
            <div id="statusDisplay" style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                <strong>å½“å‰çŠ¶æ€:</strong> <span id="currentStatus">æ£€æŸ¥ä¸­...</span>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>âŒ¨ï¸ å¿«æ·é”®è¯´æ˜</h2>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>Ctrl + M</h4>
                    <p>æ‰“å¼€/å…³é—­èœå•</p>
                </div>
                <div class="feature-item">
                    <h4>Escape</h4>
                    <p>å…³é—­èœå•</p>
                </div>
                <div class="feature-item">
                    <h4>ç‚¹å‡»èœå•é¡¹</h4>
                    <p>è‡ªåŠ¨å…³é—­èœå•å¹¶å¯¼èˆª</p>
                </div>
                <div class="feature-item">
                    <h4>ç‚¹å‡»è¦†ç›–å±‚</h4>
                    <p>å…³é—­èœå•</p>
                </div>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>ğŸ¯ è®¾è®¡ç‰¹ç‚¹</h2>
            <ul style="line-height: 2; color: #6c757d;">
                <li>âœ¨ <strong>æµç•…åŠ¨ç”»:</strong> ä½¿ç”¨ cubic-bezier ç¼“åŠ¨å‡½æ•°ï¼Œæä¾›è‡ªç„¶çš„åŠ¨ç”»æ•ˆæœ</li>
                <li>ğŸ¨ <strong>æ¸å˜è®¾è®¡:</strong> ç°ä»£åŒ–çš„æ¸å˜è‰²å½©æ­é…ï¼Œæå‡è§†è§‰å±‚æ¬¡</li>
                <li>ğŸ” <strong>çŠ¶æ€åé¦ˆ:</strong> æ¸…æ™°çš„æ‚¬åœã€æ¿€æ´»å’Œç„¦ç‚¹çŠ¶æ€</li>
                <li>â™¿ <strong>æ— éšœç¢æ”¯æŒ:</strong> å®Œæ•´çš„é”®ç›˜å¯¼èˆªå’Œå±å¹•é˜…è¯»å™¨æ”¯æŒ</li>
                <li>ğŸ“ <strong>ä¸€è‡´æ€§:</strong> ç»Ÿä¸€çš„è®¾è®¡è¯­è¨€å’Œäº¤äº’æ¨¡å¼</li>
                <li>âš¡ <strong>æ€§èƒ½ä¼˜åŒ–:</strong> ç¡¬ä»¶åŠ é€ŸåŠ¨ç”»ï¼Œæ”¯æŒå‡å°‘åŠ¨ç”»åå¥½</li>
            </ul>
        </div>
    </div>

    <script src="/js/common.js"></script>
    <script src="/js/menu.js"></script>
    <script>
        // æµ‹è¯•æ•™å¸ˆç™»å½•
        function testTeacherLogin() {
            const teacherData = {
                id: '8001',
                name: 'å¼ è€å¸ˆ',
                userType: 'teacher'
            };
            
            storage.set('teacherToken', 'demo-teacher-token-' + Date.now());
            storage.set('currentTeacher', teacherData);
            
            if (window.menuSystem) {
                window.menuSystem.updateUserInfo();
            }
            
            updateStatus();
            showMessage('æ•™å¸ˆç™»å½•æ¨¡æ‹ŸæˆåŠŸ', 'success');
        }
        
        // æµ‹è¯•å­¦ç”Ÿç™»å½•
        function testStudentLogin() {
            const studentData = {
                id: '0501',
                name: 'å¼ ä¸‰',
                balance: 85
            };
            
            storage.set('currentStudent', studentData);
            
            if (window.menuSystem) {
                window.menuSystem.updateUserInfo();
            }
            
            updateStatus();
            showMessage('å­¦ç”Ÿç™»å½•æ¨¡æ‹ŸæˆåŠŸ', 'success');
        }
        
        // æ›´æ–°èœå•ä¿¡æ¯
        function updateMenuInfo() {
            if (window.menuSystem) {
                window.menuSystem.updateUserInfo();
                window.menuSystem.updateMenuItems();
            }
            updateStatus();
            showMessage('èœå•ä¿¡æ¯å·²æ›´æ–°', 'info');
        }
        
        // æ¸…é™¤æ‰€æœ‰æ•°æ®
        function clearAllData() {
            if (confirm('ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰æµ‹è¯•æ•°æ®å—ï¼Ÿ')) {
                storage.remove('teacherToken');
                storage.remove('currentTeacher');
                storage.remove('currentStudent');
                
                if (window.menuSystem) {
                    window.menuSystem.updateUserInfo();
                }
                
                updateStatus();
                showMessage('æ‰€æœ‰æ•°æ®å·²æ¸…é™¤', 'warning');
            }
        }
        
        // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
        function updateStatus() {
            const statusSpan = document.getElementById('currentStatus');
            const teacherToken = storage.get('teacherToken');
            const currentTeacher = storage.get('currentTeacher');
            const currentStudent = storage.get('currentStudent');
            
            let statusText = '';
            let statusClass = 'offline';
            
            if (teacherToken && currentTeacher) {
                statusText = `æ•™å¸ˆå·²ç™»å½• - ${currentTeacher.name} (${currentTeacher.id})`;
                statusClass = 'online';
            } else if (currentStudent) {
                statusText = `å­¦ç”Ÿå·²ç™»å½• - ${currentStudent.name} (${currentStudent.id}) - ${currentStudent.balance}åˆ†`;
                statusClass = 'online';
            } else {
                statusText = 'æœªç™»å½•';
                statusClass = 'offline';
            }
            
            statusSpan.innerHTML = statusText + `<span class="status-indicator ${statusClass}">${statusClass === 'online' ? 'åœ¨çº¿' : 'ç¦»çº¿'}</span>`;
        }
        
        // é¡µé¢åŠ è½½æ—¶æ›´æ–°çŠ¶æ€
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(updateStatus, 500);
        });
    </script>
</body>
</html>