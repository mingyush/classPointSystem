# ç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªç®€åŒ–çš„ç§¯åˆ†ç®¡ç†å·¥å…·ï¼Œä¸“ä¸ºä¸­å­¦ç­çº§è®¾è®¡ã€‚ç³»ç»Ÿåœ¨æ•™å®¤å¤§å±ä¸Šæ˜¾ç¤ºå­¦ç”Ÿç§¯åˆ†æ’è¡Œæ¦œï¼Œæ•™å¸ˆå¯é€šè¿‡ç®¡ç†ç•Œé¢è¿›è¡Œç§¯åˆ†æ“ä½œï¼Œå­¦ç”Ÿå¯æŸ¥çœ‹ä¸ªäººç§¯åˆ†å¹¶é¢„çº¦å¥–å“ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹ç‚¹

- **ğŸ–¥ï¸ å¤§å±å±•ç¤º**: å®æ—¶æ˜¾ç¤ºå­¦ç”Ÿç§¯åˆ†æ’è¡Œæ¦œï¼Œæ”¯æŒæ•™å®¤æŠ•å½±
- **ğŸ‘¨â€ğŸ« æ•™å¸ˆç®¡ç†**: ç®€å•ç›´è§‚çš„ç§¯åˆ†åŠ å‡æ“ä½œç•Œé¢
- **ğŸ‘¨â€ğŸ“ å­¦ç”ŸæŸ¥è¯¢**: ä¸ªäººç§¯åˆ†æŸ¥çœ‹å’Œå¥–å“é¢„çº¦åŠŸèƒ½
- **ğŸ’¾ æ•°æ®æŒä¹…åŒ–**: åŸºäºJSONæ–‡ä»¶çš„å¯é æ•°æ®å­˜å‚¨
- **âš¡ å®æ—¶æ›´æ–°**: ä½¿ç”¨Server-Sent Eventså®ç°å®æ—¶æ•°æ®æ¨é€
- **ğŸ” æƒé™æ§åˆ¶**: æ•™å¸ˆå’Œå­¦ç”Ÿåˆ†ç¦»çš„æƒé™ç®¡ç†
- **ğŸ“Š æ•°æ®ç»Ÿè®¡**: æ€»ç§¯åˆ†ã€æ—¥ç§¯åˆ†ã€å‘¨ç§¯åˆ†å¤šç»´åº¦æ’è¡Œ
- **ğŸ å¥–å“ç³»ç»Ÿ**: å®Œæ•´çš„å•†å“é¢„çº¦å’Œå…‘æ¢æµç¨‹

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express.js
- **å‰ç«¯**: HTML5 + CSS3 + åŸç”ŸJavaScript
- **æ•°æ®å­˜å‚¨**: JSONæ–‡ä»¶ç³»ç»Ÿ
- **å®æ—¶é€šä¿¡**: Server-Sent Events (SSE)
- **è®¤è¯**: JWT Token
- **æµ‹è¯•**: Jest + Supertest

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 14.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm 6.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- 2GB+ å†…å­˜ï¼Œ1GB+ ç£ç›˜ç©ºé—´

### ä¸€é”®å¯åŠ¨

```bash
# ä¸‹è½½é¡¹ç›®
git clone <repository-url>
cd classroom-points-system

# ä¸€é”®å¯åŠ¨ï¼ˆè‡ªåŠ¨å®‰è£…ä¾èµ–å¹¶å¯åŠ¨æœåŠ¡ï¼‰
./scripts/start.sh dev

# éªŒè¯éƒ¨ç½²
./scripts/verify-deployment.sh
```

### æ‰‹åŠ¨å®‰è£…

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start

# æˆ–ä½¿ç”¨å¼€å‘æ¨¡å¼
npm run dev
```

### è®¿é—®ç³»ç»Ÿ

- **ä¸»é¡µ**: http://localhost:3000
- **å¤§å±å±•ç¤º**: http://localhost:3000/display
- **æ•™å¸ˆç®¡ç†**: http://localhost:3000/teacher  
- **å­¦ç”ŸæŸ¥è¯¢**: http://localhost:3000/student

### é»˜è®¤è´¦æˆ·

**æ•™å¸ˆè´¦æˆ·**:
- 8001 / 123 (å¼ è€å¸ˆ)
- 8002 / 123 (æè€å¸ˆ)  
- 8003 / 123 (ç‹è€å¸ˆ)
- 8004 / 123 (èµµè€å¸ˆ)
- 8005 / 123 (é’±è€å¸ˆ)
- admin / admin123 (ç®¡ç†å‘˜ï¼Œå‘åå…¼å®¹)

**å­¦ç”Ÿè´¦æˆ·**: ä½¿ç”¨å­¦ç”Ÿå­¦å·ç™»å½•ï¼ˆæ— éœ€å¯†ç ï¼‰
- å­¦å·èŒƒå›´: 0501-0550
- ç­çº§åç§°: èŠ±å„¿èµ·èˆ

### ç³»ç»Ÿé…ç½®

**ç­çº§ä¿¡æ¯**:
- é»˜è®¤ç­çº§åç§°: "èŠ±å„¿èµ·èˆ"
- ç³»ç»Ÿä½œè€…: "èŒ—é›¨"
- ç‰ˆæƒä¿¡æ¯: "Â© 2025 èŠ±å„¿èµ·èˆç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿ | ä½œè€…ï¼šèŒ—é›¨"

**é…ç½®ç®¡ç†**:
- ç­çº§åç§°å¯åœ¨æ•™å¸ˆç®¡ç† â†’ ç³»ç»Ÿè®¾ç½®ä¸­ä¿®æ”¹
- ä½œè€…å’Œç‰ˆæƒä¿¡æ¯æ”¯æŒè‡ªå®šä¹‰è®¾ç½®
- é…ç½®æ›´æ”¹åç«‹å³åœ¨æ‰€æœ‰é¡µé¢ç”Ÿæ•ˆ

## ğŸ“ é¡¹ç›®ç»“æ„

```
classroom-points-system/
â”œâ”€â”€ ğŸ“ public/                 # å‰ç«¯é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ display/           # å¤§å±å±•ç¤ºç•Œé¢
â”‚   â”œâ”€â”€ ğŸ“ teacher/           # æ•™å¸ˆç®¡ç†ç•Œé¢
â”‚   â”œâ”€â”€ ğŸ“ student/           # å­¦ç”ŸæŸ¥è¯¢ç•Œé¢
â”‚   â”œâ”€â”€ ğŸ“ css/               # å…±äº«æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ ğŸ“ js/                # å…±äº«JavaScriptæ–‡ä»¶
â”œâ”€â”€ ğŸ“ api/                   # åç«¯APIè·¯ç”±
â”œâ”€â”€ ğŸ“ services/              # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”œâ”€â”€ ğŸ“ middleware/            # ä¸­é—´ä»¶
â”œâ”€â”€ ğŸ“ utils/                 # å·¥å…·å‡½æ•°
â”œâ”€â”€ ğŸ“ data/                  # JSONæ•°æ®æ–‡ä»¶
â”œâ”€â”€ ğŸ“ tests/                 # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ ğŸ“ scripts/               # éƒ¨ç½²å’Œè¿ç»´è„šæœ¬
â”œâ”€â”€ ğŸ“ docs/                  # æ–‡æ¡£
â”œâ”€â”€ ğŸ“ config/                # é…ç½®æ–‡ä»¶
â””â”€â”€ ğŸ“„ server.js             # ä¸»æœåŠ¡å™¨æ–‡ä»¶
```

## ğŸ”§ éƒ¨ç½²æŒ‡å—

### ç”Ÿäº§ç¯å¢ƒå¿«é€Ÿéƒ¨ç½²

```bash
# ä¸€é”®ç”Ÿäº§éƒ¨ç½²
./scripts/start.sh prod

# éªŒè¯éƒ¨ç½²çŠ¶æ€
./scripts/verify-deployment.sh

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
./scripts/health-check.sh --verbose
```

### ä½¿ç”¨ PM2 éƒ¨ç½²

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨æœåŠ¡
pm2 start ecosystem.config.js --env production

# æŸ¥çœ‹çŠ¶æ€
pm2 status
pm2 logs classroom-points-system
```

### ä½¿ç”¨ systemd éƒ¨ç½²

```bash
# å¤åˆ¶æœåŠ¡æ–‡ä»¶
sudo cp config/systemd/classroom-points.service /etc/systemd/system/

# å¯åŠ¨æœåŠ¡
sudo systemctl enable classroom-points
sudo systemctl start classroom-points

# æŸ¥çœ‹çŠ¶æ€
sudo systemctl status classroom-points
```

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t classroom-points-system .

# è¿è¡Œå®¹å™¨
docker-compose up -d

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps
```

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### ç³»ç»Ÿç›‘æ§

```bash
# æŒç»­ç›‘æ§ï¼ˆå¸¦å‘Šè­¦ï¼‰
./scripts/monitor.sh --interval 60 --log-file logs/monitor.log

# å¥åº·æ£€æŸ¥
./scripts/health-check.sh --verbose

# æ€§èƒ½æ£€æŸ¥
curl http://localhost:3000/api/health
```

### æ•°æ®å¤‡ä»½

```bash
# æ‰‹åŠ¨å¤‡ä»½
npm run backup

# é€šè¿‡APIå¤‡ä»½
curl -X POST http://localhost:3000/api/backup/create \
  -H "Authorization: Bearer YOUR_TEACHER_TOKEN"

# æŸ¥çœ‹å¤‡ä»½åˆ—è¡¨
ls -la backups/
```

### æ—¥å¿—ç®¡ç†

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs/app.log

# æŸ¥çœ‹PM2æ—¥å¿—
pm2 logs classroom-points-system

# æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
sudo journalctl -u classroom-points -f
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œé›†æˆæµ‹è¯•
./scripts/run-tests.sh integration

# è¿è¡Œæ€§èƒ½æµ‹è¯•
./scripts/run-tests.sh performance

# è¿è¡Œå•å…ƒæµ‹è¯•
./scripts/run-tests.sh unit
```

### æµ‹è¯•è¦†ç›–

- âœ… å•å…ƒæµ‹è¯•ï¼šæœåŠ¡å±‚å’Œå·¥å…·å‡½æ•°
- âœ… é›†æˆæµ‹è¯•ï¼šå®Œæ•´ç”¨æˆ·æµç¨‹
- âœ… APIæµ‹è¯•ï¼šæ‰€æœ‰æ¥å£ç«¯ç‚¹
- âœ… å¹¶å‘æµ‹è¯•ï¼šæ•°æ®ä¸€è‡´æ€§
- âœ… æ€§èƒ½æµ‹è¯•ï¼šå“åº”æ—¶é—´å’Œè´Ÿè½½

## ğŸ“š APIæ–‡æ¡£

### è®¤è¯æ¥å£
- `POST /api/auth/teacher-login` - æ•™å¸ˆç™»å½•
- `POST /api/auth/student-login` - å­¦ç”Ÿç™»å½•

### ç§¯åˆ†ç®¡ç†
- `POST /api/points/add` - åŠ åˆ†ï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `POST /api/points/subtract` - å‡åˆ†ï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `GET /api/points/rankings` - è·å–æ’è¡Œæ¦œ
- `GET /api/points/history/:studentId` - è·å–ç§¯åˆ†å†å²

### å­¦ç”Ÿç®¡ç†
- `GET /api/students` - è·å–å­¦ç”Ÿåˆ—è¡¨ï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `POST /api/students` - åˆ›å»ºå­¦ç”Ÿï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `GET /api/students/:id` - è·å–å­¦ç”Ÿä¿¡æ¯
- `PUT /api/students/:id` - æ›´æ–°å­¦ç”Ÿä¿¡æ¯ï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `DELETE /api/students/:id` - åˆ é™¤å­¦ç”Ÿï¼ˆæ•™å¸ˆæƒé™ï¼‰

### å•†å“ç®¡ç†
- `GET /api/products` - è·å–å•†å“åˆ—è¡¨
- `POST /api/products` - åˆ›å»ºå•†å“ï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `PUT /api/products/:id` - æ›´æ–°å•†å“ï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `DELETE /api/products/:id` - åˆ é™¤å•†å“ï¼ˆæ•™å¸ˆæƒé™ï¼‰

### è®¢å•ç®¡ç†
- `POST /api/orders/reserve` - é¢„çº¦å•†å“ï¼ˆå­¦ç”Ÿæƒé™ï¼‰
- `GET /api/orders/pending` - è·å–å¾…ç¡®è®¤è®¢å•ï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `POST /api/orders/:id/confirm` - ç¡®è®¤è®¢å•ï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `POST /api/orders/:id/cancel` - å–æ¶ˆè®¢å•

### ç³»ç»Ÿç®¡ç†
- `GET /api/config/mode` - è·å–ç³»ç»Ÿæ¨¡å¼
- `POST /api/config/mode` - è®¾ç½®ç³»ç»Ÿæ¨¡å¼ï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `GET /api/health` - å¥åº·æ£€æŸ¥
- `POST /api/backup/create` - åˆ›å»ºå¤‡ä»½ï¼ˆæ•™å¸ˆæƒé™ï¼‰
- `GET /api/backup/list` - è·å–å¤‡ä»½åˆ—è¡¨ï¼ˆæ•™å¸ˆæƒé™ï¼‰

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒé…ç½®

- `config/production.json` - ç”Ÿäº§ç¯å¢ƒé…ç½®
- `config/development.json` - å¼€å‘ç¯å¢ƒé…ç½®

### é‡è¦é…ç½®é¡¹

```json
{
  "server": {
    "port": 3000,
    "host": "0.0.0.0"
  },
  "security": {
    "jwtSecret": "è¯·åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¿®æ”¹æ­¤å¯†é’¥",
    "jwtExpiresIn": "24h"
  },
  "logging": {
    "level": "info",
    "file": {
      "enabled": true,
      "path": "logs/app.log"
    }
  }
}
```

## ğŸ”’ å®‰å…¨é…ç½®

### å¿…é¡»ä¿®æ”¹çš„é…ç½®

1. **JWT å¯†é’¥**ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¿®æ”¹ï¼‰
2. **CORS é…ç½®**ï¼ˆé™åˆ¶è®¿é—®åŸŸåï¼‰
3. **æ•™å¸ˆå¯†ç **ï¼ˆä¿®æ”¹é»˜è®¤å¯†ç ï¼‰

### å®‰å…¨å»ºè®®

- âœ… ä½¿ç”¨ HTTPS
- âœ… é…ç½®é˜²ç«å¢™
- âœ… å®šæœŸæ›´æ–°ä¾èµ–
- âœ… ç›‘æ§è®¿é—®æ—¥å¿—
- âœ… å®šæœŸå¤‡ä»½æ•°æ®

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   ./scripts/stop.sh  # åœæ­¢æœåŠ¡
   lsof -i :3000      # æŸ¥çœ‹ç«¯å£å ç”¨
   ```

2. **æ•°æ®æ–‡ä»¶æŸå**
   ```bash
   # ä»å¤‡ä»½æ¢å¤
   cd backups
   unzip backup-YYYY-MM-DD-HH-mm-ss.zip
   cp -r backup-data/* ../data/
   ./scripts/restart.sh prod
   ```

3. **æœåŠ¡æ— æ³•å¯åŠ¨**
   ```bash
   ./scripts/health-check.sh  # è¯Šæ–­é—®é¢˜
   tail -f logs/app.log       # æŸ¥çœ‹é”™è¯¯æ—¥å¿—
   ```

### è·å–å¸®åŠ©

```bash
# æŸ¥çœ‹è„šæœ¬å¸®åŠ©
./scripts/start.sh --help
./scripts/health-check.sh --help
./scripts/monitor.sh --help
```

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### åŸºå‡†æ€§èƒ½

- **APIå“åº”æ—¶é—´**: < 1ç§’
- **å¹¶å‘ç”¨æˆ·**: æ”¯æŒ50+å¹¶å‘
- **å†…å­˜ä½¿ç”¨**: < 500MB
- **ç£ç›˜ç©ºé—´**: < 100MBï¼ˆä¸å«æ—¥å¿—ï¼‰

### ç›‘æ§æŒ‡æ ‡

- âœ… æœåŠ¡å¯ç”¨æ€§ > 99%
- âœ… å“åº”æ—¶é—´ < 1000ms
- âœ… é”™è¯¯ç‡ < 1%
- âœ… å†…å­˜ä½¿ç”¨ç‡ < 80%

## ğŸ”„ æ›´æ–°å‡çº§

### åº”ç”¨æ›´æ–°

```bash
# åœæ­¢æœåŠ¡
./scripts/stop.sh

# å¤‡ä»½å½“å‰ç‰ˆæœ¬
cp -r . ../classroom-points-system-backup

# æ›´æ–°ä»£ç å’Œä¾èµ–
# ï¼ˆè§£å‹æ–°ç‰ˆæœ¬æ–‡ä»¶ï¼‰
npm install --production

# é‡å¯æœåŠ¡
./scripts/start.sh prod
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. è¿è¡Œæµ‹è¯• (`npm test`)
4. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
5. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
6. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼š

- ğŸ“§ æäº¤ Issue
- ğŸ’¬ å‘é€é‚®ä»¶è‡³ [support@example.com]
- ğŸ“– æŸ¥çœ‹æ–‡æ¡£ï¼š`docs/` ç›®å½•

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-01)
- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ¨ åŸºç¡€ç§¯åˆ†ç®¡ç†åŠŸèƒ½
- âœ¨ å¤§å±å±•ç¤ºå’Œç®¡ç†ç•Œé¢
- âœ¨ å­¦ç”ŸæŸ¥è¯¢å’Œå•†å“é¢„çº¦åŠŸèƒ½
- âœ¨ å®Œæ•´çš„éƒ¨ç½²å’Œç›‘æ§è„šæœ¬
- âœ¨ å…¨é¢çš„é›†æˆæµ‹è¯•è¦†ç›–

---

**ğŸ‰ éƒ¨ç½²å®Œæˆï¼ç³»ç»Ÿå·²å‡†å¤‡å°±ç»ªï¼Œå¼€å§‹ä½¿ç”¨ç­çº§ç§¯åˆ†ç®¡ç†ç³»ç»Ÿå§ï¼**